<div class="flex flex-col sm:p-4 p-2 rounded-md my-4 w-full bg-slate-200 cursor-pointer shadow-md">
    <div class="flex items-center">
        <div data-controller="menu" class="hidden sm:block relative" tabindex="0" data-action="blur->menu#close">
            <div data-action="click->menu#toggle" class="rounded-full p-2 transition ease-out hover:bg-slate-300">
                <%= heroicon 'ellipsis-vertical' %>
            </div>
            <div class="rounded-md bg-white absolute shadow-md py-1 invisible opacity-0 -translate-y-2 transition ease-in-out z-10" data-menu-target="menu" data-controller="dialog">
                <%= link_to 'Edit', edit_hour_path(local_assigns.fetch(:hour)), class: 'block px-5 transition ease font-semibold hover:bg-slate-200 py-2' %>
                <%= button_to 'Delete', local_assigns.fetch(:hour), method: :delete, class: 'block px-5 transition ease font-semibold hover:bg-slate-200 py-2', data: { controller: 'dialog', action: 'click->dialog#confirm' } %>
            </div>
        </div>
        <div class="whitespace-nowrap overflow-hidden overflow-ellipsis grow ml-3">
            <span class="text-slate-600 hidden sm:inline"><%= local_assigns.fetch(:unowned, false) ? "#{hour.user.fname} #{hour.user.lname}: " : '' %><%= local_assigns.fetch(:hour).topic.name %> | </span>
            <span class="text-ellipsis"><%= local_assigns.fetch(:hour).short_desc %></span>
        </div>
        <div class="mr-3 hidden sm:block whitespace-nowrap"><%= (((local_assigns.fetch(:hour).end - local_assigns.fetch(:hour).begin)*20/1.hour).floor) / 20.0 %> hours</div>
        <%= link_to hour, class: 'rounded-full transition ease-in-out hover:bg-slate-300 p-2 block' do %>
            <%= heroicon 'arrow-long-right', options: { class: 'w-5 h-5' } %>
        <% end %>
    </div>
</div>
